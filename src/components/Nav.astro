---
const links = [
  { href: "/", label: "Home" },
  { href: "/services", label: "Services" },
  { href: "/work", label: "Work" },
  { href: "/case-studies", label: "Case Studies" },
  { href: "/contact", label: "Contact" },
];

const currentPath = Astro.url.pathname.replace(/\/+$/, "") || "/";
const isActive = (href: string) => {
  if (href === "/") return currentPath === "/";
  return currentPath === href || currentPath.startsWith(`${href}/`);
};
---

<header class="site-header">
  <div class="container nav-row">
    <a class="brand" href="/">Jack Woollams</a>
    <nav class="nav-links" aria-label="Main navigation">
      {
        links.map((link) => (
          <a
            href={link.href}
            aria-current={isActive(link.href) ? "page" : undefined}
          >
            {link.label}
          </a>
        ))
      }
    </nav>
  </div>
</header>
